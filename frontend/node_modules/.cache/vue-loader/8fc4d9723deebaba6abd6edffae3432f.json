{"remainingRequest":"/home/pi/Dev/djangostation2/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/pi/Dev/djangostation2/frontend/src/components/CardContainer.vue?vue&type=style&index=0&id=2d7456d1&lang=scss&scoped=true","dependencies":[{"path":"/home/pi/Dev/djangostation2/frontend/src/components/CardContainer.vue","mtime":1645891601000},{"path":"/home/pi/Dev/djangostation2/frontend/node_modules/css-loader/dist/cjs.js","mtime":1645891061792},{"path":"/home/pi/Dev/djangostation2/frontend/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1645891048883},{"path":"/home/pi/Dev/djangostation2/frontend/node_modules/postcss-loader/src/index.js","mtime":1645891051033},{"path":"/home/pi/Dev/djangostation2/frontend/node_modules/sass-loader/dist/cjs.js","mtime":1645891047953},{"path":"/home/pi/Dev/djangostation2/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1645891062892},{"path":"/home/pi/Dev/djangostation2/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1645891046373}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5zdGF0aW9uIHsKICBtYXJnaW4tdG9wOiAxcmVtOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBwIHsKICAgIG1hcmdpbi10b3A6IDAuMnJlbTsKICAgIGZvbnQtc2l6ZTogMTVweDsKICAgIG1pbi13aWR0aDogMTYwcHg7CiAgfQogIGgyIHsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIG1pbi13aWR0aDogMTYwcHg7CiAgfQogIC5jYXJkLWNvbnRhaW5lciB7CiAgICBkaXNwbGF5OiBncmlkOwogICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyNTBweCwgMWZyKSk7CiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IDAuNzVmcjsKICAgIGNvbHVtbi1nYXA6IDMwcHg7CiAgICByb3ctZ2FwOiAzMHB4OwogICAgbWluLXdpZHRoOiAyNTBweDsKICAgIG1pbi1oZWlnaHQ6IDEzMHB4OwogICAgbWFyZ2luOiBhdXRvOwogIH0KfQo="},{"version":3,"sources":["/home/pi/Dev/djangostation2/frontend/src/components/CardContainer.vue"],"names":[],"mappings":";AAoFA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,EAAE;IACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB;EACA,CAAC,EAAE;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB;EACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACd;AACF","file":"/home/pi/Dev/djangostation2/frontend/src/components/CardContainer.vue","sourceRoot":"","sourcesContent":["<template>\n  <div v-if=\"which_parent == 'Home'\">\n    <div class=\"station\" v-if=\"visibilityOfStation\">\n      <h2>{{ station.display_name }}</h2>\n      <p class=\"text-muted\">Ostatni odczyt: <timeago :datetime=\"time\" /></p>\n      <div class=\"card-container\">\n        <Card v-for=\"sensor in station.sensors\" :key=\"sensor.index\" :sensor=\"sensor\" :station_id=\"station.index\" />\n      </div>\n    </div>\n  </div>\n  <div v-else-if=\"which_parent == 'Grzybiarnia'\">\n    <div class=\"station\">\n      <h2>{{ station.name }}</h2>\n      <p class=\"text-muted\">Ostatni odczyt: wczoraj</p>\n      <div class=\"card-container\">\n        <CardRelay\n          v-for=\"relay in station.relays\"\n          v-bind:key=\"relay\"\n          :relay=\"relay\"\n          :station_id=\"station.index\"\n          @cardState=\"changeState\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Card from \"./Card\";\nimport CardRelay from \"./CardRelay\";\n\nexport default {\n  name: \"CardContainer\",\n  components: { Card, CardRelay },\n  emits: [],\n  props: {\n    station: {\n      required: true,\n    },\n\n    which_parent: String,\n  },\n  methods: {\n    changeState(state, id) {\n      let updated_station = {\n        index: id,\n        state: state,\n      };\n      this.station.relays[id].state = state;\n      fetch(\"http://192.168.8.184:8000/api-mushfarm/relay-update/\" + this.station.index + \"/\" + id + \"/\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(updated_station),\n      }).then((res) => {\n        res.json();\n      });\n    },\n  },\n  computed: {\n    time() {\n      return Date.parse(this.station[\"date_created\"]);\n    },\n    visibilityOfStation() {\n      let show = false;\n      for (let i in this.station.sensors) {\n        if (this.station.sensors[i].show) {\n          if (this.station.sensors[i].value != null) {\n            // this.station.sensors[i].values.length > 0)  tak bylo gdy uzywalem fetcha do station a nie do dashboard\n            show = true;\n          }\n        }\n      }\n      return show;\n    },\n  },\n  data() {\n    return {};\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.station {\n  margin-top: 1rem;\n  text-align: center;\n  p {\n    margin-top: 0.2rem;\n    font-size: 15px;\n    min-width: 160px;\n  }\n  h2 {\n    text-align: center;\n    min-width: 160px;\n  }\n  .card-container {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n    grid-template-rows: 0.75fr;\n    column-gap: 30px;\n    row-gap: 30px;\n    min-width: 250px;\n    min-height: 130px;\n    margin: auto;\n  }\n}\n</style>\n"]}]}