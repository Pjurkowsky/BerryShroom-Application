{"remainingRequest":"/home/pi/Dev/djangostation2/frontend/node_modules/thread-loader/dist/cjs.js!/home/pi/Dev/djangostation2/frontend/node_modules/babel-loader/lib/index.js!/home/pi/Dev/djangostation2/frontend/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/pi/Dev/djangostation2/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/pi/Dev/djangostation2/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/pi/Dev/djangostation2/frontend/src/components/CardContainer.vue?vue&type=template&id=10d4dc4c&scoped=true","dependencies":[{"path":"/home/pi/Dev/djangostation2/frontend/src/components/CardContainer.vue","mtime":1645891601000},{"path":"/home/pi/Dev/djangostation2/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1645891062892},{"path":"/home/pi/Dev/djangostation2/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1645891046563},{"path":"/home/pi/Dev/djangostation2/frontend/node_modules/babel-loader/lib/index.js","mtime":1645891066642},{"path":"/home/pi/Dev/djangostation2/frontend/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1645891049273},{"path":"/home/pi/Dev/djangostation2/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1645891062892},{"path":"/home/pi/Dev/djangostation2/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1645891046373}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7CgpfcHVzaFNjb3BlSWQoImRhdGEtdi0xMGQ0ZGM0YyIpOwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAga2V5OiAwCn07CnZhciBfaG9pc3RlZF8yID0gewogIGtleTogMCwKICBjbGFzczogInN0YXRpb24iCn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAidGV4dC1tdXRlZCIKfTsKCnZhciBfaG9pc3RlZF80ID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIk9zdGF0bmkgb2Rjenl0OiAiKTsKCnZhciBfaG9pc3RlZF81ID0gewogIGNsYXNzOiAiY2FyZC1jb250YWluZXIiCn07CnZhciBfaG9pc3RlZF82ID0gewogIGtleTogMQp9Owp2YXIgX2hvaXN0ZWRfNyA9IHsKICBjbGFzczogInN0YXRpb24iCn07Cgp2YXIgX2hvaXN0ZWRfOCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJwIiwgewogIGNsYXNzOiAidGV4dC1tdXRlZCIKfSwgIk9zdGF0bmkgb2Rjenl0OiB3Y3pvcmFqIiwgLTEpOwoKdmFyIF9ob2lzdGVkXzkgPSB7CiAgY2xhc3M6ICJjYXJkLWNvbnRhaW5lciIKfTsKCl9wb3BTY29wZUlkKCk7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X3RpbWVhZ28gPSBfcmVzb2x2ZUNvbXBvbmVudCgidGltZWFnbyIpOwoKICB2YXIgX2NvbXBvbmVudF9DYXJkID0gX3Jlc29sdmVDb21wb25lbnQoIkNhcmQiKTsKCiAgdmFyIF9jb21wb25lbnRfQ2FyZFJlbGF5ID0gX3Jlc29sdmVDb21wb25lbnQoIkNhcmRSZWxheSIpOwoKICByZXR1cm4gJHByb3BzLndoaWNoX3BhcmVudCA9PSAnSG9tZScgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbJG9wdGlvbnMudmlzaWJpbGl0eU9mU3RhdGlvbiA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJoMiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoJHByb3BzLnN0YXRpb24uZGlzcGxheV9uYW1lKSwgMSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInAiLCBfaG9pc3RlZF8zLCBbX2hvaXN0ZWRfNCwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfdGltZWFnbywgewogICAgZGF0ZXRpbWU6ICRvcHRpb25zLnRpbWUKICB9LCBudWxsLCA4LCBbImRhdGV0aW1lIl0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzUsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRwcm9wcy5zdGF0aW9uLnNlbnNvcnMsIGZ1bmN0aW9uIChzZW5zb3IpIHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X0NhcmQsIHsKICAgICAga2V5OiBzZW5zb3IuaW5kZXgsCiAgICAgIHNlbnNvcjogc2Vuc29yLAogICAgICBzdGF0aW9uX2lkOiAkcHJvcHMuc3RhdGlvbi5pbmRleAogICAgfSwgbnVsbCwgOCwgWyJzZW5zb3IiLCAic3RhdGlvbl9pZCJdKTsKICB9KSwgMTI4KSldKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpXSkpIDogJHByb3BzLndoaWNoX3BhcmVudCA9PSAnR3J6eWJpYXJuaWEnID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNiwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzcsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJoMiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoJHByb3BzLnN0YXRpb24ubmFtZSksIDEpLCBfaG9pc3RlZF84LCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF85LCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkcHJvcHMuc3RhdGlvbi5yZWxheXMsIGZ1bmN0aW9uIChyZWxheSkgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfQ2FyZFJlbGF5LCB7CiAgICAgIGtleTogcmVsYXksCiAgICAgIHJlbGF5OiByZWxheSwKICAgICAgc3RhdGlvbl9pZDogJHByb3BzLnN0YXRpb24uaW5kZXgsCiAgICAgIG9uQ2FyZFN0YXRlOiAkb3B0aW9ucy5jaGFuZ2VTdGF0ZQogICAgfSwgbnVsbCwgOCwgWyJyZWxheSIsICJzdGF0aW9uX2lkIiwgIm9uQ2FyZFN0YXRlIl0pOwogIH0pLCAxMjgpKV0pXSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKTsKfQ=="},{"version":3,"sources":["/home/pi/Dev/djangostation2/frontend/src/components/CardContainer.vue"],"names":[],"mappings":";;;;;;;;;;AAES,EAAA,KAAK,EAAC;;;AAEN,EAAA,KAAK,EAAC;;;+CAAa,kB;;;AACjB,EAAA,KAAK,EAAC;;;;;;AAMR,EAAA,KAAK,EAAC;;;8BAET,mBAAA,CAAiD,GAAjD,EAAiD;AAA9C,EAAA,KAAK,EAAC;AAAwC,CAAjD,EAAsB,yBAAtB,EAA6C,CAAA,CAA7C,C;;;AACK,EAAA,KAAK,EAAC;;;;;;;;;;;;SAbJ,MAAA,CAAA,YAAA,IAAY,M,kBAAvB,mBAAA,CAQM,KARN,EAQM,UARN,EAQM,CAPuB,QAAA,CAAA,mB,kBAA3B,mBAAA,CAMM,KANN,EAAA,UAAA,EAMM,CALJ,mBAAA,CAAmC,IAAnC,EAAmC,IAAnC,EAAmC,gBAAA,CAA5B,MAAA,CAAA,OAAA,CAAQ,YAAoB,CAAnC,EAA2B,CAA3B,CAKI,EAJJ,mBAAA,CAAsE,GAAtE,EAAA,UAAA,EAAsE,C,UAAA,EAAhC,YAAA,CAA4B,kBAA5B,EAA4B;AAAlB,IAAA,QAAQ,EAAE,QAAA,CAAA;AAAQ,GAA5B,EAAwB,IAAxB,EAAwB,CAAxB,EAAwB,CAAA,UAAA,CAAxB,CAAgC,CAAtE,CAII,EAHJ,mBAAA,CAEM,KAFN,EAAA,UAAA,EAEM,E,kBADJ,mBAAA,CAA2G,SAA3G,EAA2G,IAA3G,EAA2G,WAAA,CAApF,MAAA,CAAA,OAAA,CAAQ,OAA4E,EAArE,UAAzB,MAAyB,EAAnB;yBAAnB,YAAA,CAA2G,eAA3G,EAA2G;AAAlE,MAAA,GAAG,EAAE,MAAM,CAAC,KAAsD;AAA9C,MAAA,MAAM,EAAE,MAAsC;AAA7B,MAAA,UAAU,EAAE,MAAA,CAAA,OAAA,CAAQ;AAAS,KAA3G,E,IAAA,E,CAAA,E,wBAAA,C;GAA2G,CAA3G,E,GAAA,CACI,EAFN,CAGI,CANN,C,iCAOI,CARN,C,IASgB,MAAA,CAAA,YAAA,IAAY,a,kBAA5B,mBAAA,CAcM,KAdN,EAcM,UAdN,EAcM,CAbJ,mBAAA,CAYM,KAZN,EAAA,UAAA,EAYM,CAXJ,mBAAA,CAA2B,IAA3B,EAA2B,IAA3B,EAA2B,gBAAA,CAApB,MAAA,CAAA,OAAA,CAAQ,IAAY,CAA3B,EAAmB,CAAnB,CAWI,EAVJ,UAUI,EATJ,mBAAA,CAQM,KARN,EAAA,UAAA,EAQM,E,kBAPJ,mBAAA,CAME,SANF,EAME,IANF,EAME,WAAA,CALgB,MAAA,CAAA,OAAA,CAAQ,MAKxB,EAL8B,UAAvB,KAAuB,EAAlB;yBADd,YAAA,CAME,oBANF,EAME;AAJO,MAAA,GAAG,EAAE,KAIZ;AAHC,MAAA,KAAK,EAAE,KAGR;AAFC,MAAA,UAAU,EAAE,MAAA,CAAA,OAAA,CAAQ,KAErB;AADC,MAAA,WAAS,EAAE,QAAA,CAAA;AACZ,KANF,E,IAAA,E,CAAA,E,sCAAA,C;GAME,CANF,E,GAAA,CAOI,EARN,CASI,CAZN,CAaI,CAdN,C","sourcesContent":["<template>\n  <div v-if=\"which_parent == 'Home'\">\n    <div class=\"station\" v-if=\"visibilityOfStation\">\n      <h2>{{ station.display_name }}</h2>\n      <p class=\"text-muted\">Ostatni odczyt: <timeago :datetime=\"time\" /></p>\n      <div class=\"card-container\">\n        <Card v-for=\"sensor in station.sensors\" :key=\"sensor.index\" :sensor=\"sensor\" :station_id=\"station.index\" />\n      </div>\n    </div>\n  </div>\n  <div v-else-if=\"which_parent == 'Grzybiarnia'\">\n    <div class=\"station\">\n      <h2>{{ station.name }}</h2>\n      <p class=\"text-muted\">Ostatni odczyt: wczoraj</p>\n      <div class=\"card-container\">\n        <CardRelay\n          v-for=\"relay in station.relays\"\n          v-bind:key=\"relay\"\n          :relay=\"relay\"\n          :station_id=\"station.index\"\n          @cardState=\"changeState\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Card from \"./Card\";\nimport CardRelay from \"./CardRelay\";\n\nexport default {\n  name: \"CardContainer\",\n  components: { Card, CardRelay },\n  emits: [],\n  props: {\n    station: {\n      required: true,\n    },\n\n    which_parent: String,\n  },\n  methods: {\n    changeState(state, id) {\n      let updated_station = {\n        index: id,\n        state: state,\n      };\n      this.station.relays[id].state = state;\n      fetch(\"http://192.168.8.184:8000/api-mushfarm/relay-update/\" + this.station.index + \"/\" + id + \"/\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(updated_station),\n      }).then((res) => {\n        res.json();\n      });\n    },\n  },\n  computed: {\n    time() {\n      return Date.parse(this.station[\"date_created\"]);\n    },\n    visibilityOfStation() {\n      let show = false;\n      for (let i in this.station.sensors) {\n        if (this.station.sensors[i].show) {\n          if (this.station.sensors[i].value != null) {\n            // this.station.sensors[i].values.length > 0)  tak bylo gdy uzywalem fetcha do station a nie do dashboard\n            show = true;\n          }\n        }\n      }\n      return show;\n    },\n  },\n  data() {\n    return {};\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.station {\n  margin-top: 1rem;\n  text-align: center;\n  p {\n    margin-top: 0.2rem;\n    font-size: 15px;\n    min-width: 160px;\n  }\n  h2 {\n    text-align: center;\n    min-width: 160px;\n  }\n  .card-container {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n    grid-template-rows: 0.75fr;\n    column-gap: 30px;\n    row-gap: 30px;\n    min-width: 250px;\n    min-height: 130px;\n    margin: auto;\n  }\n}\n</style>\n"],"sourceRoot":""}]}