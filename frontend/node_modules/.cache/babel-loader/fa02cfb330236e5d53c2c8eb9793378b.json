{"remainingRequest":"/home/pi/Dev/djangostation2/frontend/node_modules/babel-loader/lib/index.js!/home/pi/Dev/djangostation2/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/pi/Dev/djangostation2/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/pi/Dev/djangostation2/frontend/src/components/Card.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/pi/Dev/djangostation2/frontend/src/components/Card.vue","mtime":1645996951000},{"path":"/home/pi/Dev/djangostation2/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1645891062892},{"path":"/home/pi/Dev/djangostation2/frontend/node_modules/babel-loader/lib/index.js","mtime":1645891066642},{"path":"/home/pi/Dev/djangostation2/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1645891062892},{"path":"/home/pi/Dev/djangostation2/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1645891046373}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKdmFyIG9wdGlvbnMgPSB7CiAgaG91cjogIm51bWVyaWMiLAogIG1pbnV0ZTogIm51bWVyaWMiLAogIHNlY29uZDogIm51bWVyaWMiLAogIHllYXI6ICJudW1lcmljIiwKICBtb250aDogIjItZGlnaXQiLAogIGRheTogIm51bWVyaWMiCn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ2FyZCIsCiAgcHJvcHM6IHsKICAgIHNlbnNvcjogewogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHN0YXRpb25faWQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaXNUaGVyZVZhbHVlOiBmdW5jdGlvbiBpc1RoZXJlVmFsdWUoKSB7CiAgICAgIHJldHVybiB0aGlzLnNlbnNvci52YWx1ZSAhPSBudWxsOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIGxhc3RWYWx1ZSgpIHsKICAgIC8vICAgcmV0dXJuIHRoaXMuc2Vuc29yLnZhbHVlc1swXVsidmFsdWUiXS50b0ZpeGVkKDIpOwogICAgLy8gfSwKICAgIGxhc3RWYWx1ZURhdGU6IGZ1bmN0aW9uIGxhc3RWYWx1ZURhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLnNlbnNvci52YWx1ZV9kYXRlICE9IG51bGwgPyBuZXcgRGF0ZSh0aGlzLnNlbnNvci52YWx1ZV9kYXRlKS50b0xvY2FsZURhdGVTdHJpbmcoInBsLVBMIiwgb3B0aW9ucykgOiBudWxsOwogICAgfSwKICAgIG1pblZhbHVlRGF0ZTogZnVuY3Rpb24gbWluVmFsdWVEYXRlKCkgewogICAgICByZXR1cm4gdGhpcy5zZW5zb3IubWluX3ZhbHVlX2RhdGUgIT0gbnVsbCA/IG5ldyBEYXRlKHRoaXMuc2Vuc29yLm1pbl92YWx1ZV9kYXRlKS50b0xvY2FsZURhdGVTdHJpbmcoInBsLVBMIiwgb3B0aW9ucykgOiBudWxsOwogICAgfSwKICAgIG1heFZhbHVlRGF0ZTogZnVuY3Rpb24gbWF4VmFsdWVEYXRlKCkgewogICAgICByZXR1cm4gdGhpcy5zZW5zb3IubWF4X3ZhbHVlX2RhdGUgIT0gbnVsbCA/IG5ldyBEYXRlKHRoaXMuc2Vuc29yLm1heF92YWx1ZV9kYXRlKS50b0xvY2FsZURhdGVTdHJpbmcoInBsLVBMIiwgb3B0aW9ucykgOiBudWxsOwogICAgfSAvLyBtaW5WYWx1ZSgpIHsKICAgIC8vICAgbGV0IHNtYWxsZXN0VmFsdWUgPSB0aGlzLnNlbnNvci52YWx1ZXNbMF1bInZhbHVlIl07CiAgICAvLyAgIGZvciAobGV0IGkgaW4gdGhpcy5zZW5zb3IudmFsdWVzKSB7CiAgICAvLyAgICAgaWYgKHNtYWxsZXN0VmFsdWUgPiB0aGlzLnNlbnNvci52YWx1ZXNbaV1bInZhbHVlIl0pIHNtYWxsZXN0VmFsdWUgPSB0aGlzLnNlbnNvci52YWx1ZXNbaV1bInZhbHVlIl07CiAgICAvLyAgIH0KICAgIC8vICAgcmV0dXJuIHNtYWxsZXN0VmFsdWUudG9GaXhlZCgyKTsKICAgIC8vIH0sCiAgICAvLyBtaW5WYWx1ZURhdGUoKSB7CiAgICAvLyAgIHZhciBvcHRpb25zID0gewogICAgLy8gICAgIGhvdXI6ICJudW1lcmljIiwKICAgIC8vICAgICBtaW51dGU6ICJudW1lcmljIiwKICAgIC8vICAgICBzZWNvbmQ6ICJudW1lcmljIiwKICAgIC8vICAgICB5ZWFyOiAibnVtZXJpYyIsCiAgICAvLyAgICAgbW9udGg6ICIyLWRpZ2l0IiwKICAgIC8vICAgICBkYXk6ICJudW1lcmljIiwKICAgIC8vICAgfTsKICAgIC8vICAgbGV0IHNtYWxsZXN0VmFsdWUgPSB0aGlzLnNlbnNvci52YWx1ZXNbMF1bInZhbHVlIl07CiAgICAvLyAgIGxldCBpZE9mU21hbGxlc3RWYWx1ZTsKICAgIC8vICAgZm9yIChsZXQgaSBpbiB0aGlzLnNlbnNvci52YWx1ZXMpIHsKICAgIC8vICAgICBpZiAoc21hbGxlc3RWYWx1ZSA+IHRoaXMuc2Vuc29yLnZhbHVlc1tpXVsidmFsdWUiXSkgewogICAgLy8gICAgICAgc21hbGxlc3RWYWx1ZSA9IHRoaXMuc2Vuc29yLnZhbHVlc1tpXVsidmFsdWUiXTsKICAgIC8vICAgICAgIGlkT2ZTbWFsbGVzdFZhbHVlID0gaTsKICAgIC8vICAgICB9IGVsc2UgaWYgKHRoaXMuc2Vuc29yLnZhbHVlc1swXVsidmFsdWUiXSA9PSBzbWFsbGVzdFZhbHVlKSBpZE9mU21hbGxlc3RWYWx1ZSA9IDA7CiAgICAvLyAgIH0KICAgIC8vICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMuc2Vuc29yLnZhbHVlc1tpZE9mU21hbGxlc3RWYWx1ZV1bImRhdGVfY3JlYXRlZCJdKS50b0xvY2FsZURhdGVTdHJpbmcoInBsLVBMIiwgb3B0aW9ucyk7CiAgICAvLyB9LAogICAgLy8gbWF4VmFsdWUoKSB7CiAgICAvLyAgIGxldCBiaWdnZXN0VmFsdWUgPSB0aGlzLnNlbnNvci52YWx1ZXNbMF1bInZhbHVlIl07CiAgICAvLyAgIGZvciAobGV0IGkgaW4gdGhpcy5zZW5zb3IudmFsdWVzKSB7CiAgICAvLyAgICAgaWYgKGJpZ2dlc3RWYWx1ZSA8IHRoaXMuc2Vuc29yLnZhbHVlc1tpXVsidmFsdWUiXSkgYmlnZ2VzdFZhbHVlID0gdGhpcy5zZW5zb3IudmFsdWVzW2ldWyJ2YWx1ZSJdOwogICAgLy8gICB9CiAgICAvLyAgIHJldHVybiBiaWdnZXN0VmFsdWUudG9GaXhlZCgyKTsKICAgIC8vIH0sCiAgICAvLyBtYXhWYWx1ZURhdGUoKSB7CiAgICAvLyAgIGxldCBiaWdnZXN0VmFsdWUgPSB0aGlzLnNlbnNvci52YWx1ZXNbMF1bInZhbHVlIl07CiAgICAvLyAgIGxldCBpZE9mQmlnZ2VzdFZhbHVlOwogICAgLy8gICB2YXIgb3B0aW9ucyA9IHsKICAgIC8vICAgICBob3VyOiAibnVtZXJpYyIsCiAgICAvLyAgICAgbWludXRlOiAibnVtZXJpYyIsCiAgICAvLyAgICAgc2Vjb25kOiAibnVtZXJpYyIsCiAgICAvLyAgICAgeWVhcjogIm51bWVyaWMiLAogICAgLy8gICAgIG1vbnRoOiAiMi1kaWdpdCIsCiAgICAvLyAgICAgZGF5OiAibnVtZXJpYyIsCiAgICAvLyAgIH07CiAgICAvLyAgIGZvciAobGV0IGkgaW4gdGhpcy5zZW5zb3IudmFsdWVzKSB7CiAgICAvLyAgICAgaWYgKGJpZ2dlc3RWYWx1ZSA8IHRoaXMuc2Vuc29yLnZhbHVlc1tpXVsidmFsdWUiXSkgewogICAgLy8gICAgICAgYmlnZ2VzdFZhbHVlID0gdGhpcy5zZW5zb3IudmFsdWVzW2ldWyJ2YWx1ZSJdOwogICAgLy8gICAgICAgaWRPZkJpZ2dlc3RWYWx1ZSA9IGk7CiAgICAvLyAgICAgfSBlbHNlIGlmICh0aGlzLnNlbnNvci52YWx1ZXNbMF1bInZhbHVlIl0gPT0gYmlnZ2VzdFZhbHVlKSBpZE9mQmlnZ2VzdFZhbHVlID0gMDsKICAgIC8vICAgfQogICAgLy8gICByZXR1cm4gbmV3IERhdGUodGhpcy5zZW5zb3IudmFsdWVzW2lkT2ZCaWdnZXN0VmFsdWVdWyJkYXRlX2NyZWF0ZWQiXSkudG9Mb2NhbGVEYXRlU3RyaW5nKCJwbC1QTCIsIG9wdGlvbnMpOwogICAgLy8gfSwKCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHt9OwogIH0KfTs="},{"version":3,"sources":["/home/pi/Dev/djangostation2/frontend/src/components/Card.vue"],"names":[],"mappings":";AAsCA,IAAI,OAAM,GAAI;AACZ,EAAA,IAAI,EAAE,SADM;AAEZ,EAAA,MAAM,EAAE,SAFI;AAGZ,EAAA,MAAM,EAAE,SAHI;AAIZ,EAAA,IAAI,EAAE,SAJM;AAKZ,EAAA,KAAK,EAAE,SALK;AAMZ,EAAA,GAAG,EAAE;AANO,CAAd;AASA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,KAAK,EAAE;AACL,IAAA,MAAM,EAAE;AACN,MAAA,QAAQ,EAAE;AADJ,KADH;AAIL,IAAA,UAAU,EAAE;AACV,MAAA,IAAI,EAAE,MADI;AAEV,MAAA,QAAQ,EAAE;AAFA;AAJP,GAFM;AAWb,EAAA,OAAO,EAAE;AACP,IAAA,YADO,0BACQ;AACb,aAAO,KAAK,MAAL,CAAY,KAAZ,IAAqB,IAA5B;AACD;AAHM,GAXI;AAgBb,EAAA,QAAQ,EAAE;AACR;AACA;AACA;AAEA,IAAA,aALQ,2BAKQ;AACd,aAAO,KAAK,MAAL,CAAY,UAAZ,IAA0B,IAA1B,GACH,IAAI,IAAJ,CAAS,KAAK,MAAL,CAAY,UAArB,EAAiC,kBAAjC,CAAoD,OAApD,EAA6D,OAA7D,CADG,GAEH,IAFJ;AAGD,KATO;AAUR,IAAA,YAVQ,0BAUO;AACb,aAAO,KAAK,MAAL,CAAY,cAAZ,IAA8B,IAA9B,GACH,IAAI,IAAJ,CAAS,KAAK,MAAL,CAAY,cAArB,EAAqC,kBAArC,CAAwD,OAAxD,EAAiE,OAAjE,CADG,GAEH,IAFJ;AAGD,KAdO;AAeR,IAAA,YAfQ,0BAeO;AACb,aAAO,KAAK,MAAL,CAAY,cAAZ,IAA8B,IAA9B,GACH,IAAI,IAAJ,CAAS,KAAK,MAAL,CAAY,cAArB,EAAqC,kBAArC,CAAwD,OAAxD,EAAiE,OAAjE,CADG,GAEH,IAFJ;AAGD,KAnBO,CAqBR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAxEQ,GAhBG;AA0Fb,EAAA,IA1Fa,kBA0FN;AACL,WAAO,EAAP;AACD;AA5FY,CAAf","sourcesContent":["<template>\r\n  <div class=\"card\" v-show=\"sensor.show\" v-if=\"isThereValue()\">\r\n    <div class=\"card-header\">\r\n      <h2>{{ sensor.display_name }}</h2>\r\n      <a :href=\"'/sensor-chart/' + station_id + '/' + sensor.index\"><i class=\"fas fa-chart-line\"/></a>\r\n    </div>\r\n    <div class=\"card-container\">\r\n      <h2>\r\n        <i class=\"fas fa-thermometer-three-quarters\" v-if=\"sensor.type === 'temperature'\" />\r\n        <i class=\"fas fa-tint\" v-else-if=\"sensor.type === 'humidity'\" />\r\n        <i class=\"fas fa-battery-full\" v-else-if=\"sensor.type === 'battery'\"></i>\r\n        {{ sensor.value.toFixed(2) }}\r\n        <span v-if=\"sensor.type === 'temperature'\">Â°C</span>\r\n        <span v-else-if=\"sensor.type === 'humidity'\">%</span>\r\n        <span v-else-if=\"sensor.type === 'battery'\">V</span>\r\n      </h2>\r\n      <h4>\r\n        <span>\r\n          <i class=\"fas fa-info-circle\"></i>\r\n          <div class=\"tooltip\">\r\n            <p>id: {{ sensor.index }}</p>\r\n            <p>display_name: {{ sensor.display_name }}</p>\r\n            <p>name: {{ sensor.name }}</p>\r\n            <p>value: {{ sensor.value }}</p>\r\n            <p>type: {{ sensor.type }}</p>\r\n            <p>min_value: {{ sensor.min_value }}</p>\r\n            <p>max_value: {{ sensor.max_value }}</p>\r\n            <p>value_date: {{ lastValueDate }}</p>\r\n            <p>min_value_date: {{ minValueDate }}</p>\r\n            <p>max_value_date: {{ maxValueDate }}</p>\r\n          </div>\r\n        </span>\r\n      </h4>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nvar options = {\r\n  hour: \"numeric\",\r\n  minute: \"numeric\",\r\n  second: \"numeric\",\r\n  year: \"numeric\",\r\n  month: \"2-digit\",\r\n  day: \"numeric\",\r\n};\r\n\r\nexport default {\r\n  name: \"Card\",\r\n  props: {\r\n    sensor: {\r\n      required: true,\r\n    },\r\n    station_id: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n  },\r\n  methods: {\r\n    isThereValue() {\r\n      return this.sensor.value != null;\r\n    },\r\n  },\r\n  computed: {\r\n    // lastValue() {\r\n    //   return this.sensor.values[0][\"value\"].toFixed(2);\r\n    // },\r\n\r\n    lastValueDate() {\r\n      return this.sensor.value_date != null\r\n        ? new Date(this.sensor.value_date).toLocaleDateString(\"pl-PL\", options)\r\n        : null;\r\n    },\r\n    minValueDate() {\r\n      return this.sensor.min_value_date != null\r\n        ? new Date(this.sensor.min_value_date).toLocaleDateString(\"pl-PL\", options)\r\n        : null;\r\n    },\r\n    maxValueDate() {\r\n      return this.sensor.max_value_date != null\r\n        ? new Date(this.sensor.max_value_date).toLocaleDateString(\"pl-PL\", options)\r\n        : null;\r\n    },\r\n\r\n    // minValue() {\r\n    //   let smallestValue = this.sensor.values[0][\"value\"];\r\n    //   for (let i in this.sensor.values) {\r\n    //     if (smallestValue > this.sensor.values[i][\"value\"]) smallestValue = this.sensor.values[i][\"value\"];\r\n    //   }\r\n    //   return smallestValue.toFixed(2);\r\n    // },\r\n    // minValueDate() {\r\n    //   var options = {\r\n    //     hour: \"numeric\",\r\n    //     minute: \"numeric\",\r\n    //     second: \"numeric\",\r\n    //     year: \"numeric\",\r\n    //     month: \"2-digit\",\r\n    //     day: \"numeric\",\r\n    //   };\r\n    //   let smallestValue = this.sensor.values[0][\"value\"];\r\n    //   let idOfSmallestValue;\r\n    //   for (let i in this.sensor.values) {\r\n    //     if (smallestValue > this.sensor.values[i][\"value\"]) {\r\n    //       smallestValue = this.sensor.values[i][\"value\"];\r\n    //       idOfSmallestValue = i;\r\n    //     } else if (this.sensor.values[0][\"value\"] == smallestValue) idOfSmallestValue = 0;\r\n    //   }\r\n    //   return new Date(this.sensor.values[idOfSmallestValue][\"date_created\"]).toLocaleDateString(\"pl-PL\", options);\r\n    // },\r\n    // maxValue() {\r\n    //   let biggestValue = this.sensor.values[0][\"value\"];\r\n    //   for (let i in this.sensor.values) {\r\n    //     if (biggestValue < this.sensor.values[i][\"value\"]) biggestValue = this.sensor.values[i][\"value\"];\r\n    //   }\r\n    //   return biggestValue.toFixed(2);\r\n    // },\r\n    // maxValueDate() {\r\n    //   let biggestValue = this.sensor.values[0][\"value\"];\r\n    //   let idOfBiggestValue;\r\n    //   var options = {\r\n    //     hour: \"numeric\",\r\n    //     minute: \"numeric\",\r\n    //     second: \"numeric\",\r\n    //     year: \"numeric\",\r\n    //     month: \"2-digit\",\r\n    //     day: \"numeric\",\r\n    //   };\r\n    //   for (let i in this.sensor.values) {\r\n    //     if (biggestValue < this.sensor.values[i][\"value\"]) {\r\n    //       biggestValue = this.sensor.values[i][\"value\"];\r\n    //       idOfBiggestValue = i;\r\n    //     } else if (this.sensor.values[0][\"value\"] == biggestValue) idOfBiggestValue = 0;\r\n    //   }\r\n    //   return new Date(this.sensor.values[idOfBiggestValue][\"date_created\"]).toLocaleDateString(\"pl-PL\", options);\r\n    // },\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.card {\r\n  display: grid;\r\n  grid-template-rows: 0.2fr;\r\n  margin-top: 0.5rem;\r\n  border: 1px solid #c0c0c0;\r\n  border-radius: 5px;\r\n  text-align: left;\r\n  max-width: 20rem;\r\n\r\n  .card-header {\r\n    display: grid;\r\n    grid-template-columns: 1fr 0.15fr;\r\n    margin: 0.2rem;\r\n    a {\r\n      background: #6c757d;\r\n      box-shadow: 3px 3px 3px rgba(51, 51, 51, 0.2);\r\n      border: 1px solid #c0c0c0;\r\n      border-radius: 4px;\r\n      color: white;\r\n      margin: auto;\r\n      padding: 0.4rem;\r\n      margin-right: 0;\r\n    }\r\n  }\r\n  .card-container {\r\n    margin-left: 0.2rem;\r\n    h2 {\r\n      margin-top: 0.1rem;\r\n    }\r\n    h4 {\r\n      text-align: right;\r\n      margin-right: 0.3rem;\r\n      i {\r\n        z-index: 1;\r\n      }\r\n      i::before {\r\n        cursor: pointer;\r\n        z-index: 1;\r\n      }\r\n      .tooltip {\r\n        position: absolute;\r\n        background: black;\r\n        color: white;\r\n        border: 1px solid;\r\n        border-radius: 4px;\r\n        top: 25px;\r\n        left: -85px;\r\n        width: max-content;\r\n        padding: 7px;\r\n        font-size: 10px;\r\n        visibility: hidden;\r\n        text-align: left;\r\n        z-index: 2;\r\n      }\r\n      @include phone {\r\n        .tooltip {\r\n          left: -80px;\r\n        }\r\n      }\r\n      .tooltip::before {\r\n        position: absolute;\r\n        content: \"\";\r\n        height: 15px;\r\n        width: 15px;\r\n        background: black;\r\n        top: -7px;\r\n        left: 50%;\r\n        transform: translateX(-50%) rotate(45deg);\r\n      }\r\n      span {\r\n        position: relative;\r\n      }\r\n      span:hover {\r\n        .tooltip {\r\n          visibility: visible;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}